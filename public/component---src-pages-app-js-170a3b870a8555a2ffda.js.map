{"version":3,"sources":["webpack:///./src/app/components/NavBar.js","webpack:///./src/app/profile.js","webpack:///./src/app/components/PrivateRoute.js","webpack:///./src/app/components/login.js","webpack:///./src/app/app.js","webpack:///./src/pages/app.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js","webpack:///./src/service/auth.js"],"names":["NavBar","content","message","login","user","getUser","isLoggedIn","user_metadata","fullname","react_default","a","createElement","gatsby_browser_entry","to","href","onClick","event","preventDefault","logout","navigate","Profile","Fragment","full_name","email","PrivateRoute","componentDidMount","location","_this","props","pathname","render","_this$props","this","Component","component","rest","_objectWithoutPropertiesLoose","Login","handleSubmit","console","log","handleLogin","PublicRoute","children","App","layout","components_NavBar","es","PrivateRoute_PrivateRoute","path","login_Login","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","gatsby_link__WEBPACK_IMPORTED_MODULE_1__","gatsby_link__WEBPACK_IMPORTED_MODULE_1___default","d","__webpack_exports__","loader","enqueue","React","createContext","m","module","exports","require","default","ProdPageRenderer","_ref","pageResources","InternalPageRenderer","Object","assign","json","Header","siteTitle","style","background","marginBottom","margin","maxWidth","padding","color","textDecoration","defaultProps","Layout","data","_856328897","header","site","siteMetadata","title","paddingTop","Date","getFullYear","initAuth","netlify_identity_widget__WEBPACK_IMPORTED_MODULE_0__","netlify_identity_widget__WEBPACK_IMPORTED_MODULE_0___default","isBrowser","window","netlifyIdentity","init","localStorage","getItem","JSON","parse","setUser","setItem","stringify","callback","open","on","currentUser"],"mappings":"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","file":"component---src-pages-app-js-170a3b870a8555a2ffda.js","sourcesContent":["import React from 'react'\nimport {Link, navigate} from 'gatsby'\nimport { getUser, isLoggedIn, logout} from \"../../service/auth\"\n\nexport const NavBar = () => {\n    const content = {message: \"\", login: true }\n    const user = getUser()\n    if(isLoggedIn()){\n        content.message = `hello, ${user.user_metadata && user.user_metadata.fullname}`\n    }else {\n        content.message = \"Bro you are not logged in\"\n    }\n    \n    return (\n        <div>\n            <span>{content.message}</span>\n            <nav>\n                <Link to=\"/app/\">Main</Link>\n                {` `}\n                <Link to=\"/app/profile\">Profile</Link>\n                {` `}\n                {isLoggedIn() ? (\n                    <a\n                        href=\"/\"\n                        onClick={event => {\n                            event.preventDefault()\n                            logout(()=>navigate(`/app/login`))\n                        }}\n                    >\n                        Logout\n                    </a>\n                ) :( \n                    <Link to=\"/app/login\">Login</Link>\n                )}\n            </nav>\n        </div>\n            \n\n    )\n}\n\nexport default NavBar\n","import React from 'react'\nimport {getUser} from '../service/auth'\n\nconst Profile = () => {\n    const user = getUser()\n    return (\n        <>\n            <h1>Your Profile</h1>\n            <ul>\n                <li>Name: {user.user_metadata && user.user_metadata.full_name}</li>\n                <li>E-mail: {user.email}</li>\n            </ul>\n        </>\n    )\n}\n\nexport default Profile","import React, { Component } from 'react'\nimport { isLoggedIn } from \"../../service/auth\"\nimport {navigate } from \"gatsby\"\n\nexport default class PrivateRoute extends Component {\n    componentDidMount = () => {\n        const { location } = this.props\n        if(!isLoggedIn() && location.pathname !== `/app/login`){\n            // if user is not logged in, redirect to the login page\n            navigate(`/app/login`)\n            return null\n        }\n    }\n    render() {\n         \n            const {component: Component, location, ...rest} = this.props\n            return isLoggedIn() ? <Component {...rest} /> : null\n        \n    }\n}\n","import React, { Component } from 'react'\nimport {navigate } from \"gatsby\"\nimport {handleLogin, isLoggedin } from \"../../service/auth\"\n\nexport default class Login extends Component {\n    handleSubmit = () => {\n        console.log(\"logloglog\")\n        \n        handleLogin(user => navigate(`/app/profile`))\n    }\n    render() {\n        return (\n            <>\n            <h1>Hey man wanna Log in?</h1>\n            <button onClick={this.handleSubmit}>log in</button>\n            </>\n        )\n    }\n}\n","import React from 'react'\nimport { Router } from '@reach/router'\nimport Layout from \"../components/layout\"\nimport NavBar from './components/NavBar'\nimport Profile from \"./profile\"\n//import Main from \"./main\"\nimport PrivateRoute from \"./components/PrivateRoute\"\nimport Login from \"./components/login\"\n\n\nconst App = () => {\n    return (\n    <Layout>\n      <NavBar/>\n      <Router>\n        {<PrivateRoute path=\"/app/profile\" component={Profile} /> }\n        <PublicRoute path=\"/app\">\n          {/* <PrivateRoute path=\"/\" component={Main} /> */}\n          <Login path=\"/login\" />\n        </PublicRoute>\n      </Router>\n    </Layout>\n    )\n}\n\nfunction PublicRoute(props){\n    return <div>{props.children}</div>\n\n}\nexport default App","import App from '../app/app'\nexport default App","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport loader from \"./loader\"\n\nconst prefetchPathname = loader.enqueue\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n  prefetchPathname,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst Header = ({ siteTitle }) => (\n  <header\n    style={{\n      background: `rebeccapurple`,\n      marginBottom: `1.45rem`,\n    }}\n  >\n    <div\n      style={{\n        margin: `0 auto`,\n        maxWidth: 960,\n        padding: `1.45rem 1.0875rem`,\n      }}\n    >\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: `white`,\n            textDecoration: `none`,\n          }}\n        >\n          {siteTitle}\n        </Link>\n      </h1>\n    </div>\n  </header>\n)\n\nHeader.propTypes = {\n  siteTitle: PropTypes.string,\n}\n\nHeader.defaultProps = {\n  siteTitle: ``,\n}\n\nexport default Header\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport Header from \"./header\"\nimport \"./layout.css\"\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      <Header siteTitle={data.site.siteMetadata.title} />\n      <div\n        style={{\n          margin: `0 auto`,\n          maxWidth: 960,\n          padding: `0px 1.0875rem 1.45rem`,\n          paddingTop: 0,\n        }}\n      >\n        <main>{children}</main>\n        <footer>\n          Â© {new Date().getFullYear()}, Built with\n          {` `}\n          <a href=\"https://www.gatsbyjs.org\">Gatsby</a>\n        </footer>\n      </div>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import netlifyIdentity from \"netlify-identity-widget\"\nexport const isBrowser = () => typeof window !== \"undefined\"\nexport const initAuth = () => {\n    if(isBrowser()){\n        window.netlifyIdentity = netlifyIdentity\n        netlifyIdentity.init()\n    }\n}\n\nexport const getUser = () =>\n    isBrowser() && window.localStorage.getItem(\"netlifyUser\")\n        ? JSON.parse(window.localStorage.getItem(\"netlifyUser\"))\n        : {}\n\nexport const setUser = user => \n    window.localStorage.setItem(\"netlifyUser\", JSON.stringify(user))\n\n\nexport const handleLogin = callback => {\n    if(isLoggedIn()){\n        callback(getUser())\n    }else{\n    \n        netlifyIdentity.open()\n        netlifyIdentity.on(\"login\", user => {\n            console.log(\"logmein\");        \n            setUser(user)\n            callback(user)\n        })\n    }\n}\n\nexport const isLoggedIn = () => {\n    if(!isBrowser()) return false\n    const user = netlifyIdentity.currentUser()\n    return !!user\n}\n\nexport const logout = callback => {\n    netlifyIdentity.logout()\n    netlifyIdentity.on(\"logout\", ()=> {\n        setUser({})\n        callback()\n    })\n}"],"sourceRoot":""}